(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{3024:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scheduler",function(){return s(8133)}])},8133:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return SchedulerPage}});var r=s(5893),t=s(7294);function SchedulerPage(){let[e,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[n,d]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0);async function fetchData(){l(!0);try{let[e,s,r]=await Promise.all([fetch("/api/customers"),fetch("/api/washers"),fetch("/api/appointments")]),t=await e.json(),n=await s.json(),o=await r.json();t.success&&a(t.data),n.success&&i(n.data),o.success&&d(o.data)}catch(e){console.error(e)}finally{l(!1)}}async function addSampleData(){try{await Promise.all([fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Rajesh Kumar",mobile:"9876543210",address:"Brigade Harmony, Sahakarnagar",subscriptionType:"weekly",subscriptionStart:new Date})}),fetch("/api/washers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Suresh Washer",mobile:"8765432109",assignedArea:"Sahakarnagar North",isAvailable:!0})})]),fetchData(),alert("Sample data added!")}catch(e){console.error(e),alert("Failed to add sample data")}}return((0,t.useEffect)(()=>{fetchData()},[]),o)?(0,r.jsx)("div",{style:{padding:20,fontFamily:"Arial"},children:"Loading..."}):(0,r.jsxs)("div",{style:{fontFamily:"Arial",padding:20,backgroundColor:"#f8fafc",minHeight:"100vh"},children:[(0,r.jsx)("h1",{style:{color:"#2563eb",marginBottom:30},children:"\uD83D\uDE97 Washify Dashboard"}),0===e.length&&(0,r.jsxs)("div",{style:{margin:"20px 0",backgroundColor:"#fef3c7",padding:20,borderRadius:8,border:"1px solid #f59e0b"},children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"\uD83C\uDFAF Add Sample Data"})}),(0,r.jsx)("button",{onClick:addSampleData,style:{backgroundColor:"#f59e0b",color:"white",border:"none",padding:"12px 24px",borderRadius:6,cursor:"pointer",fontSize:16,fontWeight:"bold"},children:"Add Data"})]}),(0,r.jsxs)("div",{style:{display:"grid",gap:30,gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[(0,r.jsxs)("section",{children:[(0,r.jsxs)("h2",{style:{color:"#059669"},children:["\uD83D\uDC65 Customers (",e.length,")"]}),e.map(e=>(0,r.jsxs)("div",{style:{backgroundColor:"#f0fdf4",padding:15,borderRadius:8,marginBottom:10,border:"1px solid #10b981"},children:[(0,r.jsx)("strong",{children:e.name})," — ",e.mobile,(0,r.jsx)("br",{}),(0,r.jsx)("small",{children:e.address})]},e._id))]}),(0,r.jsxs)("section",{children:[(0,r.jsxs)("h2",{style:{color:"#2563eb"},children:["\uD83E\uDDFD Washers (",s.length,")"]}),s.map(e=>(0,r.jsxs)("div",{style:{backgroundColor:"#eff6ff",padding:15,borderRadius:8,marginBottom:10,border:"1px solid #3b82f6"},children:[(0,r.jsx)("strong",{children:e.name})," — ",e.mobile,(0,r.jsx)("br",{}),(0,r.jsx)("small",{children:e.assignedArea})]},e._id))]}),(0,r.jsxs)("section",{children:[(0,r.jsxs)("h2",{style:{color:"#f59e0b"},children:["\uD83D\uDCC5 Appointments (",n.length,")"]}),n.map(e=>(0,r.jsxs)("div",{style:{backgroundColor:"#fffbeb",padding:15,borderRadius:8,marginBottom:10,border:"1px solid #f59e0b"},children:["Status: ",e.status]},e._id))]})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3024)}),_N_E=e.O()}]);